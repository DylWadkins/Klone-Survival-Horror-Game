[gd_scene load_steps=11 format=3 uid="uid://bt00ec562nujh"]

[ext_resource type="PackedScene" uid="uid://cdk6hwb4hi2wc" path="res://Assets/Player/player.tscn" id="1_5o61w"]
[ext_resource type="Shader" path="res://Dylan/Scenes/SkyShader.gdshader" id="1_agxjd"]
[ext_resource type="Script" path="res://Dylan/Scenes/world.gd" id="1_audhn"]
[ext_resource type="Texture2D" uid="uid://b01vv6qc3japu" path="res://Assets/Textures/DarkPrototypeTexture.png" id="2_y0frc"]
[ext_resource type="PackedScene" uid="uid://bch7l4yk3ldkp" path="res://Dylan/KloneModel/KloneM.tscn" id="5_3clbh"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x4m13"]
shader = ExtResource("1_agxjd")
shader_parameter/skyColor = Color(0.027451, 0.0117647, 0.156863, 1)
shader_parameter/horizonColor = Color(0.0196078, 0.0196078, 0.0666667, 1)

[sub_resource type="Sky" id="Sky_mrwdb"]
sky_material = SubResource("ShaderMaterial_x4m13")

[sub_resource type="Environment" id="Environment_bccp7"]
background_mode = 2
sky = SubResource("Sky_mrwdb")
ambient_light_source = 3

[sub_resource type="NavigationMesh" id="NavigationMesh_l2jia"]
vertices = PackedVector3Array(-3.2221, 0.5, -6.244, -3.2221, 0.5, -12.744, -5.2221, 0.5, -12.744, -5.7221, 0.5, -5.994, -15.9721, 0.5, 13.506, -6.2221, 0.5, 13.506, -5.7221, 0.5, -0.494, -5.7221, 0.5, -5.994, -5.2221, 0.5, -12.744, -5.4721, 0.5, -13.494, -15.2221, 0.5, -13.494, -44.4721, 0.5, 6.756, -44.4721, 0.5, 13.506, -34.9721, 0.5, 13.506, -34.7221, 0.5, -13.494, -44.4721, 0.5, -13.494, -44.4721, 0.5, -6.744, -24.9721, 0.5, -13.494, -34.7221, 0.5, -13.494, -44.4721, 0.5, 0.00599957, -25.4721, 0.5, 13.506, -15.9721, 0.5, 13.506, -5.7221, 0.5, -0.494, -5.7221, 0.5, -0.494, -5.7221, 0.5, -5.994, -15.2221, 0.5, -13.494, -24.9721, 0.5, -13.494, -44.4721, 0.5, 0.00599957, -44.4721, 0.5, 6.756, -34.9721, 0.5, 13.506, -25.4721, 0.5, 13.506, -34.7221, 0.5, -13.494, -44.4721, 0.5, -6.744, -44.4721, 0.5, 0.00599957, 5.5279, 0.5, -12.744, 3.2779, 0.5, -12.744, 3.2779, 0.5, -6.244, 5.5279, 0.5, -5.994, 24.2779, 0.5, 13.506, 34.2779, 0.5, 13.506, 44.5279, 0.5, 0.00599957, 25.0279, 0.5, -13.494, 15.2779, 0.5, -13.494, 5.5279, 0.5, 1.506, 5.7779, 0.5, -13.494, 5.5279, 0.5, -12.744, 5.5279, 0.5, -5.994, 44.5279, 0.5, -6.744, 44.5279, 0.5, -13.494, 34.7779, 0.5, -13.494, 5.5279, 0.5, 1.506, 3.7779, 0.5, 1.756, 4.0279, 0.5, 13.506, 14.0279, 0.5, 13.506, 34.2779, 0.5, 13.506, 44.5279, 0.5, 13.506, 44.5279, 0.5, 6.756, 15.2779, 0.5, -13.494, 5.7779, 0.5, -13.494, 5.5279, 0.5, -5.994, 5.5279, 0.5, 1.506, 5.5279, 0.5, 1.506, 14.0279, 0.5, 13.506, 24.2779, 0.5, 13.506, 44.5279, 0.5, 0.00599957, 44.5279, 0.5, -6.744, 34.7779, 0.5, -13.494, 25.0279, 0.5, -13.494, 34.2779, 0.5, 13.506, 44.5279, 0.5, 6.756, 44.5279, 0.5, 0.00599957, 3.2779, 3.5, -6.244, 3.5279, 3.5, -5.494, 4.5279, 3.5, -5.494, 4.5279, 3.5, -12.744, -4.7221, 1.75, -1.994, -3.4721, 1.75, -1.994, -3.4721, 3.5, -6.244, -4.7221, 3.5, -12.744, -4.7221, 3.5, -6.02525, -4.7221, 3.25, -4.6815, -3.4721, 3.25, -4.82733, -3.4721, 3.5, -6.244, 3.2779, 3.5, -6.244, 4.5279, 3.5, -12.744, -4.7221, 3.5, -12.744, -3.2221, 0.5, -6.244, 3.2779, 0.5, -6.244, 3.2779, 0.5, -12.744, -3.2221, 0.5, -12.744, -3.4721, 1.75, -1.994, -4.7221, 1.75, -1.994, -4.7221, 0.75, -0.244, -3.4721, 0.75, -0.244, 0.527901, 0.5, 1.256, -4.7221, 0.75, -0.244, -5.7221, 0.5, -0.494, -6.2221, 0.5, 13.506, 4.0279, 0.5, 13.506, 0.527901, 0.5, -4.494, -2.7221, 0.5, -4.494, -2.4721, 0.5, -0.244, 0.527901, 0.5, 1.256, 4.0279, 0.5, 13.506, 3.7779, 0.5, 1.756, 0.527901, 0.5, 1.256, 0.527901, 0.5, 1.256, -2.4721, 0.5, -0.244, -3.4721, 0.75, -0.244, 0.527901, 0.5, 1.256, -3.4721, 0.75, -0.244, -4.7221, 0.75, -0.244, 2.2779, 0.5, -4.494, 2.2779, 0.5, 0.00599957, 3.7779, 0.5, 0.00599957, 3.7779, 0.5, -4.494)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(6, 5, 4), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(13, 12, 11), PackedInt32Array(16, 15, 14), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 20), PackedInt32Array(20, 17, 21), PackedInt32Array(21, 17, 22), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 26), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 30), PackedInt32Array(33, 32, 31), PackedInt32Array(35, 34, 36), PackedInt32Array(36, 34, 37), PackedInt32Array(39, 38, 40), PackedInt32Array(40, 38, 41), PackedInt32Array(41, 38, 42), PackedInt32Array(42, 38, 43), PackedInt32Array(46, 45, 44), PackedInt32Array(49, 48, 47), PackedInt32Array(51, 50, 52), PackedInt32Array(52, 50, 53), PackedInt32Array(56, 55, 54), PackedInt32Array(58, 57, 59), PackedInt32Array(59, 57, 60), PackedInt32Array(63, 62, 61), PackedInt32Array(65, 64, 66), PackedInt32Array(66, 64, 67), PackedInt32Array(70, 69, 68), PackedInt32Array(72, 71, 73), PackedInt32Array(73, 71, 74), PackedInt32Array(75, 80, 76), PackedInt32Array(76, 80, 81), PackedInt32Array(81, 80, 79), PackedInt32Array(81, 79, 77), PackedInt32Array(77, 79, 78), PackedInt32Array(82, 85, 83), PackedInt32Array(83, 85, 84), PackedInt32Array(89, 88, 86), PackedInt32Array(86, 88, 87), PackedInt32Array(93, 92, 90), PackedInt32Array(90, 92, 91), PackedInt32Array(95, 94, 96), PackedInt32Array(96, 94, 97), PackedInt32Array(97, 94, 98), PackedInt32Array(100, 99, 101), PackedInt32Array(101, 99, 102), PackedInt32Array(105, 104, 103), PackedInt32Array(108, 107, 106), PackedInt32Array(111, 110, 109), PackedInt32Array(115, 114, 112), PackedInt32Array(112, 114, 113)]
agent_max_climb = 0.3
agent_max_slope = 60.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_p85vg"]
albedo_texture = ExtResource("2_y0frc")
metallic_specular = 0.0
roughness = 0.1
roughness_texture = ExtResource("2_y0frc")
uv1_triplanar = true

[node name="World" type="Node3D"]
script = ExtResource("1_audhn")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bccp7")

[node name="DirectionalLight3d" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(-0.235601, 0.971554, 0.0239986, 0.883647, 0.203874, 0.421431, 0.40455, 0.120496, -0.906543, -1.38519, 9.88869, -1.36625)
shadow_enabled = true
sky_mode = 2

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_l2jia")

[node name="Platform" type="Node3D" parent="NavigationRegion3D"]

[node name="Floor" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.25, 0)
use_collision = true
size = Vector3(30, 0.5, 27.988)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Floor4" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.9721, -0.25, 0)
use_collision = true
size = Vector3(30, 0.5, 27.988)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Floor3" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30.0028, -0.25, 0)
use_collision = true
size = Vector3(30, 0.5, 27.988)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Ramp2" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 0.866025, -0.5, 0, 0.5, 0.866025, -4, 1.28, -2.51464)
use_collision = true
size = Vector3(2, 0.5, 6)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Floor2" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000233173, 2.75, -9.50566)
use_collision = true
size = Vector3(10, 0.5, 8)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Wall" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -5.25064)
use_collision = true
size = Vector3(10, 3, 0.5)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Wall2" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0438004, 1.5, -13.7397)
use_collision = true
size = Vector3(10, 3, 0.5)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Wall3" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0438004, 4.49567, -13.7397)
use_collision = true
size = Vector3(10, 3, 0.5)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Wall4" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0066357, 4.49374, -5.2876)
use_collision = true
size = Vector3(6, 3, 0.5)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Wall8" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.43405, 1.26776, 0.840511)
use_collision = true
size = Vector3(2.16299, 3.48708, 0.493052)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Wall7" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4.75063, 1.50326, -1.94095)
use_collision = true
size = Vector3(6.10054, 3, 0.5)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Wall5" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1.41352, 1.45459, -1.99339)
use_collision = true
size = Vector3(2.56459, 1.24198, 0.5)
material = SubResource("StandardMaterial3D_p85vg")

[node name="Wall6" type="CSGBox3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1.41352, 1.45459, -1.99339)
use_collision = true
size = Vector3(5.99371, 1.24198, 0.5)
material = SubResource("StandardMaterial3D_p85vg")

[node name="OmniLight3D" type="OmniLight3D" parent="NavigationRegion3D/Platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -4)
light_color = Color(0.992157, 0.945098, 0.756863, 1)
light_energy = 7.009

[node name="Player" parent="." instance=ExtResource("1_5o61w")]

[node name="Klone" parent="." instance=ExtResource("5_3clbh")]
transform = Transform3D(1.3, 0, 0, 0, 1.3, 0, 0, 0, 1.3, 0, 0.0426754, 4)
player_path = NodePath("../Player")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="hit_rect" type="ColorRect" parent="UI"]
visible = false
layout_mode = 0
offset_right = 1151.0
offset_bottom = 645.0
color = Color(1, 0.0745098, 0.0862745, 0.376471)

[connection signal="player_hit" from="Player" to="." method="_on_player_player_hit"]
